name: ðŸš€ Deploy website on push

on:
  push:
    branches:
      - main  # DÃ©clencher uniquement sur les pushs vers la branche main

jobs:
  deploy:
    name: ðŸŽ‰ Deploy to FTP
    runs-on: ubuntu-latest

    steps:
    - name: ðŸšš Checkout code
      uses: actions/checkout@v3

    - name: ðŸ”‘ Setup FTP deployment
      uses: sebastianpopp/ftp-action@v2.0.0
      with:
        host: ${{ secrets.FTP_HOST }}             # HÃ´te FTP (dÃ©fini comme secret)
        user: ${{ secrets.FTP_USER }}             # Utilisateur FTP (dÃ©fini comme secret)
        password: ${{ secrets.FTP_PASSWORD }}     # Mot de passe FTP (dÃ©fini comme secret)
        forceSsl: true                            # Forcer SSL (FTPS) pour sÃ©curiser la connexion
        localDir: ./                              # RÃ©pertoire local (racine du projet)
        remoteDir: /www/                          # RÃ©pertoire distant sur le serveur AlwaysData
